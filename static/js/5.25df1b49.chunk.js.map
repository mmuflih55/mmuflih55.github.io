{"version":3,"sources":["pages/Blogs.js"],"names":["Home","history","useState","isLoading","data","nextPageToken","search","state","setState","classes","useStyles","checkImage","v","images","sel","DOMParser","parseFromString","content","querySelector","src","url","useEffect","s","axios","get","then","res","items","pagetoken","container","spacing","item","xs","md","className","style","paddingBottom","searchIcon","onKeyDown","key","val","target","value","placeholder","root","inputRoot","input","inputInput","inputProps","postlistcon","display","justifyContent","alignItems","height","padding","map","i","margin","btn","onClick","push","id","width","image","title"],"mappings":"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","file":"static/js/5.25df1b49.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Grid, Paper, Card, CircularProgress, CardMedia, CardContent, ButtonBase, InputBase } from '@material-ui/core';\nimport { Search } from '@material-ui/icons';\nimport axios from 'axios';\nimport useStyles from '../Style/Style';\n\n\nconst Home = ({ history }) => {\n    const [state, setState] = useState({ isLoading: true, data: [], nextPageToken: '', search: '' });\n    const classes = useStyles();\n\n    function loadMore() {\n        setState({ ...state, nextPageToken: state.pagetoken })\n    }\n\n    function search(v) {\n        if (v.key === 'Enter') {\n            let val = v.target.value;\n            setState({ ...state, search: val })\n        }\n    }\n\n    function checkImage(v) {\n        if (v.images == null) {\n            const parser = new DOMParser();\n            let c = parser.parseFromString(v.content, 'text/html');\n            let sel = c.querySelector('img')\n            if (sel === null) {\n                return null;\n            } else {\n                return sel.src;\n            }\n        } else {\n            return v.images[0].url;\n\n        }\n    }\n\n    useEffect(() => {\n        setState((s) => ({ ...s, isLoading: true }));\n        function fdata() {\n            axios.get(`https://www.googleapis.com/blogger/v3/blogs/4606092665974021629/posts?key=AIzaSyDci4ioLXX-x0SsC88MOQk399SO0PMPR14${state.nextPageToken === '' ? '' : '&pageToken=' + state.nextPageToken}&fetchImages=true`)\n                .then((res) => {\n                    setState((s) => ({ ...s, isLoading: false, data: [...s.data, ...res.data.items], pagetoken: res.data.nextPageToken }));\n                });\n        }\n\n        function searchData() {\n            axios.get(`https://www.googleapis.com/blogger/v3/blogs/4606092665974021629/posts/search?q=${state.search}&key=AIzaSyDci4ioLXX-x0SsC88MOQk399SO0PMPR14${state.nextPageToken === '' ? '' : '&pageToken=' + state.nextPageToken}&fetchImages=true`)\n                .then((res) => {\n                    setState((s) => ({ ...s, isLoading: false, data: res.data.items, pagetoken: res.data.nextPageToken }));\n                });\n        }\n\n        if (state.search === '') {\n            fdata();\n        } else {\n            searchData();\n        }\n    }, [state.nextPageToken, state.search]);\n\n    return (\n        <Grid container spacing={2}>\n            <Grid item xs={12} md={4} >\n                <Paper className={classes.container} style={{paddingBottom:15}}>\n                    <h1>Search</h1>\n                    <div className={classes.search}>\n                        <div className={classes.searchIcon}>\n                            <Search />\n                        </div>\n                        <InputBase\n                            onKeyDown={search}\n                            placeholder=\"Enter Search \"\n                            classes={{\n                                root: classes.inputRoot,\n                                input: classes.inputInput,\n                            }}\n                            inputProps={{ 'aria-label': 'search' }}\n                        />\n                    </div>\n                </Paper>\n            </Grid>\n            <Grid item xs={12} md={8}>\n                <Paper className={`${classes.container} ${classes.postlistcon}`}>\n                    {state.isLoading === true ? (\n                        <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: 'inherit', padding: '10px' }}>\n                            <CircularProgress />\n                        </div>\n                    ) : (\n                            <div>\n                                <h1>Posts</h1>\n                                {state.data == null ? (\n                                    <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: 'inherit', padding: '10px' }}>\n                                        <h1>No Data</h1>\n                                    </div>\n                                ) : state.data.map((data, i) => (\n                                    <Card\n                                        key={i}\n                                        style={\n                                            {\n                                                display: 'flex',\n                                                padding: 10,\n                                                margin: 5\n                                            }\n                                        }\n                                        className={classes.btn}\n                                        onClick={() => { history.push(`/detail/${data.id}`) }}\n                                    >\n                                        <CardMedia\n                                            style={{ width: 75, height: 75, }}\n                                            image={checkImage(data)}\n                                        />\n                                        <CardContent>\n                                            {data.title}\n                                        </CardContent>\n                                    </Card>\n                                )\n                                )}\n                                {\n                                    state.pagetoken == null ? null : (\n                                        <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: 'inherit', padding: '10px' }}>\n                                            <ButtonBase onClick={loadMore}>Load More</ButtonBase>\n                                        </div>\n                                    )\n                                }\n                            </div>\n                        )}\n                </Paper>\n            </Grid>\n        </Grid>\n    )\n}\n\nexport default Home;"],"sourceRoot":""}