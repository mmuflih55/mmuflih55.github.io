{"version":3,"sources":["pages/Blogs.js"],"names":["Home","history","useState","isLoading","data","nextPageToken","search","state","setState","classes","useStyles","checkImage","v","images","sel","DOMParser","parseFromString","content","querySelector","src","url","useEffect","axios","get","then","res","s","items","pagetoken","container","spacing","item","xs","md","className","style","paddingBottom","onKeyDown","key","val","target","value","placeholder","inputProps","postlistcon","display","justifyContent","alignItems","height","padding","map","i","margin","btn","onClick","push","id","width","minWidth","maxWidth","image","title"],"mappings":"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","file":"static/js/5.6a40c524.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Grid, Paper, Card, CircularProgress, CardMedia, CardContent, ButtonBase, InputBase } from '@material-ui/core';\nimport axios from 'axios';\nimport useStyles from '../Style/Style';\n\n\nconst Home = ({ history }) => {\n    const [state, setState] = useState({ isLoading: true, data: [], nextPageToken: '', search: '' });\n    const classes = useStyles();\n\n    function loadMore() {\n        setState({ ...state, nextPageToken: state.pagetoken })\n    }\n\n    function search(v) {\n        if (v.key === 'Enter') {\n            let val = v.target.value;\n            setState({ ...state, search: val })\n        }\n    }\n\n    function checkImage(v) {\n        if (v.images == null) {\n            const parser = new DOMParser();\n            let c = parser.parseFromString(v.content, 'text/html');\n            let sel = c.querySelector('img')\n            if (sel === null) {\n                return null;\n            } else {\n                return sel.src;\n            }\n        } else {\n            return v.images[0].url;\n\n        }\n    }\n\n    useEffect(() => {\n        function fdata() {\n            axios.get(`https://www.googleapis.com/blogger/v3/blogs/4606092665974021629/posts?key=AIzaSyDci4ioLXX-x0SsC88MOQk399SO0PMPR14${state.nextPageToken === '' ? '' : '&pageToken=' + state.nextPageToken}&fetchImages=true`)\n                .then((res) => {\n                    setState((s) => ({ ...s, isLoading: false, data: [...s.data, ...res.data.items], pagetoken: res.data.nextPageToken }));\n                });\n        }\n\n        function searchData() {\n            setState((s) => ({ ...s, isLoading: true }));\n            axios.get(`https://www.googleapis.com/blogger/v3/blogs/4606092665974021629/posts/search?q=${state.search}&key=AIzaSyDci4ioLXX-x0SsC88MOQk399SO0PMPR14${state.nextPageToken === '' ? '' : '&pageToken=' + state.nextPageToken}&fetchImages=true`)\n                .then((res) => {\n                    setState((s) => ({ ...s, isLoading: false, data: res.data.items, pagetoken: res.data.nextPageToken }));\n                });\n        }\n\n        if (state.search === '') {\n            fdata();\n        } else {\n            searchData();\n        }\n    }, [state.nextPageToken, state.search]);\n\n    return (\n        <Grid container spacing={2}>\n            <Grid item xs={12} md={4} >\n                <Paper className={classes.container} style={{paddingBottom:15}}>\n                    <h1>Search</h1>\n                    {/* <div className={classes.search}> */}\n                        {/* <div className={classes.searchIcon}>\n                            <Search />\n                        </div> */}\n                        <InputBase\n                            onKeyDown={search}\n                            placeholder=\"Enter Search \"\n                            className={classes.search}\n                            inputProps={{ 'aria-label': 'search' }}\n                        />\n                    {/* </div> */}\n                </Paper>\n            </Grid>\n            <Grid item xs={12} md={8}>\n                <Paper className={`${classes.container} ${classes.postlistcon}`}>\n                    {state.isLoading === true ? (\n                        <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: 'inherit', padding: '10px' }}>\n                            <CircularProgress />\n                        </div>\n                    ) : (\n                            <div>\n                                <h1>Posts</h1>\n                                {state.data == null ? (\n                                    <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: 'inherit', padding: '10px' }}>\n                                        <h1>No Data</h1>\n                                    </div>\n                                ) : state.data.map((data, i) => (\n                                    <Card\n                                        key={i}\n                                        style={\n                                            {\n                                                display: 'flex',\n                                                padding: 10,\n                                                margin: 5\n                                            }\n                                        }\n                                        className={classes.btn}\n                                        onClick={() => { history.push(`/detail/${data.id}`) }}\n                                    >\n                                        <CardMedia\n                                            style={{ width: 75, height: 75, minWidth:75, maxWidth:75 }}\n                                            image={checkImage(data)}\n                                        />\n                                        <CardContent>\n                                            {data.title}\n                                        </CardContent>\n                                    </Card>\n                                )\n                                )}\n                                {\n                                    state.pagetoken == null ? null : (\n                                        <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: 'inherit', padding: '10px' }}>\n                                            <ButtonBase onClick={loadMore}>Load More</ButtonBase>\n                                        </div>\n                                    )\n                                }\n                            </div>\n                        )}\n                </Paper>\n            </Grid>\n        </Grid>\n    )\n}\n\nexport default Home;"],"sourceRoot":""}